<div class="main-content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-12">

                <div class="card ">
                    <div class="card-header  card-header-danger noprint">
                        <div style="float:    left;">
                            <img src="assets\\images\\loginsST.png"
                                style="width:2%;float:    left;    margin-right:    2%;">
                            <h4 class="card-title    ">Détails Achats</h4>
                            <p class="card-category"> STADE TUNISIEN</p>
                        </div>
                    </div>
                    <br>
                    <p-toolbar class="noprint">
                        <ng-template pTemplate="left">
                        </ng-template>
                        <ng-template pTemplate="right">
                            <p-button hidden (click)="downloadAsPDF('MyDIv')" label="Export To PDF" icon="pi pi-print">
                            </p-button>
                            <p-button (click)="print('MyDIv')" label="Print" icon="pi pi-print">
                            </p-button>
                        </ng-template>
                    </p-toolbar>

                    <br>

                    <div id="MyDIv" class="card-body">

                        <html>

                        <body style="margin-left: 45px;" class="main-container">
                            <header>
                                <h1 style="text-transform: uppercase;">Détails - Achats</h1>
                                <br>
                                <address style="margin-top:    2%;">
                                    <p>STADE TUNISIEN</p>
                                    <p> Rue Marrakech. 2000 <br>Bardo, Tunis</p>
                                    <p>(+216) 71.505.900 / 71.517.800</p>
                                </address>
                                <span><img alt="" src="assets\\images\\loginsST.png" width="16%"
                                        style="margin-right:    5%;"></span>
                            </header>

                            <article>
                                <h1>Recipient</h1>
                                <address>
                                    <div *ngIf="transaction.joueur != null">
                                        <p>Joueur : </p><br>
                                        {{transaction.joueur.nom}}{{transaction.joueur.prenom}}
                                    </div>
                                    <div *ngIf="transaction.parent != null">
                                        <p>Parent : </p> <br>
                                        {{transaction.parent.nom}} {{transaction.parent.prenom}}
                                    </div>
                                    <div *ngIf="transaction.joueur == null && transaction.parent == null">
                                        <p>Type de Client : </p>
                                        <br>{{transaction.typeClient}}
                                    </div>
                                </address>
                                <table class="meta">
                                    <tr>
                                        <th><span>Invoice #</span></th>
                                        <td><span>{{transaction.id}}</span></td>
                                    </tr>
                                    <tr>
                                        <th><span>Date</span></th>
                                        <td><span>
                                                {{transaction.dateTransaction| date:'shortDate' | date : 'dd-MM-yyyy'}},
                                                {{transaction.dateTransaction| date:'shortTime'}}</span></td>
                                    </tr>
                                    <tr>
                                        <th><span>Montant</span></th>
                                        <td><span>{{transaction.totalApresRemise}} </span><span id="prefix">
                                                TND</span>
                                        </td>
                                    </tr>
                                </table>


                                <table class="inventory">
                                    <thead>
                                        <tr>
                                            <th><span>Produit</span></th>
                                            <th><span>Description</span></th>
                                            <th><span>Joueur</span></th>
                                            <th><span>Taille</span></th>
                                            <th><span>Quantité</span></th>
                                            <th><span>Prix</span></th>
                                            <th><span>Remise</span></th>
                                            <th><span>Prix Final</span></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let a of achat">
                                            <td style="text-align: center; vertical-align: middle;">
                                                <span>{{a.produit.libelle}}</span>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <div *ngIf="a.type === 'SERVICE_COMPLEMENTAIRE'; else elseBlock">
                                                    {{a.jours}} <br><br> {{a.mois}}
                                                </div>
                                                <ng-template #elseBlock>
                                                    <div *ngIf="a.type === 'SERVICE_PRINCIPAL' ; else elseBlock2">
                                                        {{a.mois}}
                                                    </div>
                                                    <ng-template #elseBlock2>
                                                        <div>---
                                                        </div>
                                                    </ng-template>

                                                </ng-template>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <div *ngIf="a.joueur != null">
                                                    <div>
                                                        {{a.joueur.nom}} {{a.joueur.prenom}}
                                                    </div>
                                                </div>
                                                <div *ngIf="a.joueur == null">
                                                    ---
                                                </div>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <div *ngIf="a.taille == null">
                                                    ---
                                                </div>
                                                <div>
                                                    <span>{{a.taille}}</span>
                                                </div>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <div *ngIf="a.quantite==0">
                                                    1
                                                </div>
                                                <div *ngIf="a.quantite>0">
                                                    {{a.quantite}}
                                                </div>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <span>{{a.montantAvantRemise}}</span> <span data-prefix> TND </span>
                                            </td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <span>{{a.montantRemise}}</span><span data-prefix> TND </span></td>
                                            <td style="text-align: center; vertical-align: middle;">
                                                <span>{{a.montantApresRemise}}</span>
                                                <span data-prefix> TND </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>

                                <table class="balance">
                                    <tr>
                                        <th><span>Total</span></th>
                                        <td><span>{{transaction.totalAvantRemise}}</span><span data-prefix>
                                                TND</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th><span>Remise</span></th>
                                        <td><span>{{transaction.totalRemise}}</span><span data-prefix>
                                                TND</span></td>
                                    </tr>
                                    <tr>
                                        <th><span>Apres Remise</span></th>
                                        <td><span>{{transaction.totalApresRemise}}</span><span data-prefix>
                                                TND</span>
                                        </td>
                                    </tr>
                                </table>
                            </article>
                            <aside>
                                <h1><span>
                                        <div style="margin-bottom: 3%;">Additional Notes</div>
                                    </span></h1>

                                <div>
                                    <p>Ces transaction ont été réalisés à travers la borne :
                                        {{transaction.borne.reference}} </p>
                                </div>
                            </aside>
                        </body>
                        </html>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>